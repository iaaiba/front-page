<h3 class="title">Eficiência de uso da irrigação de precisão e balanço</h3>

<hr class="separator">

<mat-dialog-content>
    <form
        id="efficiency-form"
        class="form"
        [formGroup]="form"
        (ngSubmit)="save()">

        <label class="mt-4">A propriedade possui área com agricultura irrigada?</label>
        <mat-button-toggle-group formControlName="has_irrigated_agriculturearea">
            <mat-button-toggle [value]="true">Sim</mat-button-toggle>
            <mat-button-toggle [value]="false">Não</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-error class="text-left mt-2" *ngIf="form.get('has_irrigated_agriculturearea').touched && form.get('has_irrigated_agriculturearea').errors?.required">
            Escolha uma opção
        </mat-error>

        <label class="mt-4">Possui medidor de vazão?</label>
        <mat-button-toggle-group formControlName="has_flow_meter">
            <mat-button-toggle [value]="true">Sim</mat-button-toggle>
            <mat-button-toggle [value]="false">Não</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-error class="text-left mt-2" *ngIf="form.get('has_flow_meter').touched && form.get('has_flow_meter').errors?.required">
            Escolha uma opção
        </mat-error>

        <label class="mt-4">Medidor transmite dados telemétrico?</label>
        <mat-button-toggle-group formControlName="meter_transmits_telemetric_data">
            <mat-button-toggle [value]="true">Sim</mat-button-toggle>
            <mat-button-toggle [value]="false">Não</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-error class="text-left mt-2" *ngIf="form.get('meter_transmits_telemetric_data').touched && form.get('meter_transmits_telemetric_data').errors?.required">
            Escolha uma opção
        </mat-error>

        <label class="mt-4">Faz uso de sistemas de irrigação e análise de balanço hídrico?</label>
        <mat-button-toggle-group formControlName="use_of_irrigation_systems">
            <mat-button-toggle [value]="true">Sim</mat-button-toggle>
            <mat-button-toggle [value]="false">Não</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-error class="text-left mt-2" *ngIf="form.get('use_of_irrigation_systems').touched && form.get('use_of_irrigation_systems').errors?.required">
            Escolha uma opção
        </mat-error>

        <label class="mt-4">Qual total de áreas (ha) utililzam sistema de irrigação eficiente?</label>
        <mat-form-field appearance="outline">
            <input
                matInput
                type="number"
                min="0"
                placeholder="hectares"
                formControlName="total_area_of_irrigation_systems">

            <mat-error *ngIf="form.get('total_area_of_irrigation_systems').touched && form.get('total_area_of_irrigation_systems').errors?.required">
                Campo obrigatório
            </mat-error>
        </mat-form-field>
    </form>
</mat-dialog-content>
    
<hr class="separator">

<mat-dialog-actions align="end" class="py-2">
    <button
        mat-flat-button
        form="efficiency-form"
        type="submit"
        color="primary">
        Salvar
    </button>
</mat-dialog-actions>

<button
    matDialogClose
    mat-icon-button
    class="button-close">

    <mat-icon>close</mat-icon>
</button>